{% extends 'base.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/map/list.css' %}">

{% endblock %}

{% block content %}
<div class = "main">
    <div class="container">

    <div class = 'backbtn item col-2'>
        <button type="button" class=" goback btn"><a href = "{% url 'map:booth_detail' booth.id%}"> ã€ˆ </a></button>
    </div>

    <div class ='title item col-10'>
        {{boothname}}
    </div>
</div>
        {% for review in reviews %}

        <div class="reviewblock">
            <div class="container-drop">
            <div class="dropdown">
              <a class="btn btn-sm btn-outline-none dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">â‹®</a>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                  {% if review.user == request.user %}
                <li><a class="dropdown-item" href="{% url 'map:review_update' review.id %}">ìˆ˜ì •</a></li>
                <li><a class="dropdown-item" onclick="post_del({{post.id}})">ì‚­ì œ</a></li>
                  {% endif %}
              </ul>
            </div>
    </div>
            <div class="text">
                {{review.content}}
            </div>

            <div>
                <div class="color">
                    <div>ë°°ê²½ìƒ‰ : </div>
                    {% for color in review.color %}
                    {% if color == 'í•‘í¬'%}<button type="button" class="colorbtn colorpink">â– </button>
                    {% elif color == 'í•˜ëŠ˜'%}<button type="button" class="colorbtn colorskyblue">â– </button>
                    {% elif color == 'ë…¸ë‘'%}<button type="button" class="colorbtn coloryellow">â– </button>
                    {% elif color == 'íšŒìƒ‰'%}<button type="button" class="colorbtn colorgray">â– </button>
                    {% elif color == 'ë‚¨ìƒ‰'%}<button type="button" class="colorbtn colorindigo">â– </button>
                    {% elif color == 'ì—°ë‘'%}<button type="button" class="colorbtn colorgreen">â– </button>
                    {% elif color == 'ë³´ë¼'%}<button type="button" class="colorbtn colorpurple">â– </button>
                    {% elif color == 'ë¹¨ê°•'%}<button type="button" class="colorbtn colorred">â– </button>
                    {% elif color == 'ì£¼í™©'%}<button type="button" class="colorbtn colororange">â– </button>
                    {% elif color == 'ê¸°íƒ€'%}<button type="button" class="colorbtn colorrainbow">â– </button>
                    {% endif %}
                    {% endfor %}
                </div>

                <div class="container_review">
                    <div class="star-rating">
                        <div class="star-rating-fill" style= "width: {{review.getWidth}}%;">
                            <span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜…</span>
                        </div>
                        <div class="star-rating-base">
                            <span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜…</span>
                        </div>
                    </div>


            </div>
                </div>

                <div class = "tag">
                    {% for tag in review.tag %}
                    {% if tag == 'ì‹œì„¤ì´ ê¹¨ë—í•´ìš”'%}<button type="button" class="btn btn-outline-primary tagbtn">ğŸ§¹ ì‹œì„¤ì´ ê¹¨ë—í•´ìš”</button>
                    {% elif tag == 'ì†Œí’ˆì´ ë‹¤ì–‘í•´ìš”'%}<button type="button"  class="btn btn-outline-success tagbtn">ğŸ© ì†Œí’ˆì´ ë‹¤ì–‘í•´ìš”</button>
                    {% elif tag == 'ë¶€ìŠ¤ê°€ ë§ì•„ìš”'%}<button type="button"  class="btn btn-outline-danger tagbtn">ğŸ•‹ ë¶€ìŠ¤ê°€ ë§ì•„ìš”</button>
                    {% elif tag == 'ê³ ë°ê¸°ê°€ ìˆì–´ìš”'%}<button type="button" class="btn btn-outline-warning tagbtn">ğŸ¦± ê³ ë°ê¸°ê°€ ìˆì–´ìš”</button>
                    {% elif tag == 'ë¡œë“œì ì´ì—ìš”'%}<button type="button"  class="btn btn-outline-info tagbtn">ğŸ›£ï¸ ë¡œë“œì ì´ì—ìš”</button>
                    {% endif %}
                    {% endfor %}
                </div>
            <div class="foot">
                {{review.user}} | {{review.time|date:'mì›” dì¼'}}
            </div>
            </div>
    <script>
        const post_del = (id) => {
        var res = confirm('ì •ë§ë¡œ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');
        if (res){
            window.location.href = "{% url 'map:review_delete' review.id %}"
            alert('ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.')
        }
    }
    </script>
        {% endfor %}
        <button type="button" class="write btn btn-secondary"> <a href = "{% url 'map:booth_review_create' booth.id %}"> ë¦¬ë·° ì‘ì„±</a></button>
</div>

{% endblock %}